A = [1 3 2; 2 2 4; 1 9 8] 

A =

     1     3     2
     2     2     4
     1     9     8

[M, inds, flag] = PartialPivoting(A)

M =

    2.0000    2.0000    4.0000
    0.5000    8.0000    6.0000
    0.5000    0.2500   -1.5000


inds =

     2
     3
     1


flag =

     0

lu(A)

ans =

    2.0000    2.0000    4.0000
    0.5000    8.0000    6.0000
    0.5000    0.2500   -1.5000

A = [1 0; 0 0]

A =

     1     0
     0     0

[M, inds, flag] = PartialPivoting(A)

M =

     1     0
     0     0


inds =

     1
     2


flag =

     1

lu(A)

ans =

     1     0
     0     0

A = [1 2 3; 4 5 6; 7 8 9]

A =

     1     2     3
     4     5     6
     7     8     9

[M, inds, flag] = PartialPivoting(A)

M =

    7.0000    8.0000    9.0000
    0.1429    0.8571    1.7143
    0.5714    0.5000    0.0000


inds =

     3
     1
     2


flag =

     1

lu(A)

ans =

    7.0000    8.0000    9.0000
    0.1429    0.8571    1.7143
    0.5714    0.5000   -0.0000

diary off
